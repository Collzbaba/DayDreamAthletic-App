{"ast":null,"code":"var _jsxFileName = \"/Users/blessedadodo/Desktop/DayDreamAthletic-App/client/src/components/signup.js\",\n  _s = $RefreshSig$();\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport LoginIcon from '../assets/img/loginicon.svg';\nimport Form from 'react-bootstrap/Form';\nimport { useRef } from 'react';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport Login from './login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const [formState, setFormState] = useState({\n    email: '',\n    password: ''\n  });\n  const [addUser, {\n    error,\n    data\n  }] = useMutation(ADD_USER);\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    setErrMsg('');\n    e.preventDefault();\n    console.log(formState);\n    if (formState.email === '' || formState.password === '') {\n      setErrMsg(\"Invalid email or password\");\n    } else {\n      try {\n        const {\n          data\n        } = await addUser({\n          variables: {\n            ...formState\n          }\n        });\n        console.log(data.addUser.token);\n        Auth.login(data.addUser.token);\n        window.location.reload(false);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    ;\n  };\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState('false');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"login-btn-container-nav\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary login-icon-modal\",\n        onClick: handleShow,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: LoginIcon,\n          className: \"nav-btn-icons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: show,\n        onHide: handleClose,\n        backdrop: \"static\",\n        keyboard: false,\n        centered: true,\n        children: [auth.loggedIn, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup-info\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"YOUR DAY DREAM CLUB BENEFITS AWAIT!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup-discount\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Sign up now and get 10% off on select products!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-login-signup-form-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              closeButton: true,\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                className: \"signup-title-modal\",\n                children: \"SIGN UP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleSubmit,\n              className: \"d-flex\",\n              children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"email\",\n                  placeholder: \"Email\",\n                  className: \"m-2 modal-login-signup-form \",\n                  \"aria-label\": \"Search\",\n                  name: \"email\",\n                  value: formState.email,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"password\",\n                  placeholder: \"Password\",\n                  className: \"m-2 modal-login-signup-form \",\n                  \"aria-label\": \"Search\",\n                  name: \"password\",\n                  value: formState.password,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary modal-bottom-btn\",\n                  type: \"submit\",\n                  children: \"SUBMIT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-password\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#ff2d2d'\n            },\n            ref: errRef,\n            \"aria-live\": \"assertive\",\n            children: errMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Signup, \"DZJ2sKdmB1Pz61tzJ4d5xFy5Z9Y=\", false, function () {\n  return [useMutation];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["Button","Modal","React","useEffect","useState","useMutation","LoginIcon","Form","useRef","ADD_USER","Auth","Login","Signup","formState","setFormState","email","password","addUser","error","data","handleChange","event","name","value","target","handleSubmit","e","setErrMsg","preventDefault","console","log","variables","token","login","window","location","reload","err","show","setShow","handleClose","handleShow","userRef","errRef","errMsg","success","setSuccess","auth","loggedIn","color"],"sources":["/Users/blessedadodo/Desktop/DayDreamAthletic-App/client/src/components/signup.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport LoginIcon from '../assets/img/loginicon.svg'\nimport Form from 'react-bootstrap/Form';\nimport { useRef } from 'react';\nimport {ADD_USER} from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport Login from './login';\n\nconst Signup = () => {\n  const [formState, setFormState] = useState({\n    email: '',\n    password: '',\n  });\n  const [addUser, { error, data }] = useMutation(ADD_USER);\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n  const handleSubmit = async (e) => {\n    setErrMsg('');\n    e.preventDefault();\n    console.log(formState);\n    if(formState.email === '' || formState.password === ''){\n      setErrMsg(\"Invalid email or password\");\n    }else{\n    try {\n      const { data } = await addUser({\n        variables: { ...formState },\n      });\n      console.log(data.addUser.token);\n      Auth.login(data.addUser.token);\n      window.location.reload(false);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  };\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState('false');\n\n  return (\n    <>\n\n      <section className='login-btn-container-nav'>\n        <Button variant=\"primary login-icon-modal\" onClick={handleShow}>\n          <img src={LoginIcon} className=\"nav-btn-icons\"></img>\n        </Button>\n\n        <Modal\n          show={show}\n          onHide={handleClose}\n          backdrop=\"static\"\n          keyboard={false}\n          centered\n        >\n          {auth.loggedIn\n          }\n          \n          <div className='signup-info'>\n            <h2>YOUR DAY DREAM CLUB BENEFITS AWAIT!</h2>\n          </div>\n          <div className='signup-discount'>\n            <p>Sign up now and get 10% off on select products!</p>\n          </div>\n\n          <div className='modal-login-signup-form-container'>\n            <div>\n              <Modal.Header closeButton>\n                <Modal.Title className='signup-title-modal'>SIGN UP</Modal.Title>\n\n              </Modal.Header>\n              <Form  onSubmit={handleSubmit} className=\"d-flex\">\n              <Modal.Body>\n                  <Form.Control\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    className=\"m-2 modal-login-signup-form \"\n                    aria-label=\"Search\"\n                    name=\"email\"\n                    value={formState.email}\n                    onChange={handleChange}\n                  />\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    className=\"m-2 modal-login-signup-form \"\n                    aria-label=\"Search\"\n                    name=\"password\"\n                    value={formState.password}\n                    onChange={handleChange}\n                  />\n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant=\"primary modal-bottom-btn\" type=\"submit\">SUBMIT</Button>\n              </Modal.Footer>\n              </Form>\n            </div>\n            \n          </div>\n          <div className='forgot-password'>\n          <p style={{color: '#ff2d2d'}} ref={errRef} aria-live=\"assertive\">{errMsg}</p>\n            <Login/>\n          </div>\n        </Modal>\n      </section>\n    </>\n  );\n}\n\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}