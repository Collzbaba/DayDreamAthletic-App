{"ast":null,"code":"var _jsxFileName = \"/Users/blessedadodo/Desktop/DayDreamAthletic-App/client/src/components/login.js\",\n  _s = $RefreshSig$();\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Form from 'react-bootstrap/Form';\nimport { useRef } from 'react';\nimport { LOGIN_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = props => {\n  _s();\n  const [formState, setFormState] = useState({\n    email: '',\n    password: ''\n  });\n  const [login, {\n    error,\n    data\n  }] = useMutation(LOGIN_USER);\n\n  // update state based on form input changes\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value\n    });\n  };\n  function refreshPage() {\n    window.location.reload(false);\n  }\n  // submit form\n  const handleSubmit = async event => {\n    setErrMsg('');\n    event.preventDefault();\n    console.log(formState);\n    if (formState.email === '' || formState.password === '') {\n      setErrMsg(\"Invalid email or password\");\n    } else {\n      try {\n        const {\n          data\n        } = await login({\n          variables: {\n            ...formState\n          }\n        });\n        Auth.login(data.login.token);\n      } catch (e) {\n        console.error(e);\n      }\n      // clear form values\n      setFormState({\n        email: '',\n        password: ''\n      });\n    }\n  };\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState('false');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"login-btn-container-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: handleShow,\n        children: \"Already have an acoount? Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: show,\n        onHide: handleClose,\n        backdrop: \"static\",\n        keyboard: false,\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup-info\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"YOUR DAY DREAM CLUB BENEFITS AWAIT!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup-discount\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Sign up now and get 10% off on select products!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-login-signup-form-container\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            className: \"d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              closeButton: true,\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: \"LOGIN\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                id: \"username\",\n                ref: userRef,\n                autoComplete: \"off\",\n                onChange: handleChange,\n                value: formState.email,\n                required: true,\n                name: \"email\",\n                label: \"username\",\n                placeholder: \"Email\",\n                className: \"m-2 modal-login-signup-form \",\n                \"aria-label\": \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                id: \"password\",\n                autoComplete: \"off\",\n                onChange: handleChange,\n                value: formState.password,\n                required: true,\n                placeholder: \"Password\",\n                name: \"password\",\n                className: \"m-2 modal-login-signup-form \",\n                \"aria-label\": \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSubmit,\n                variant: \"primary modal-bottom-btn\",\n                type: \"submit\",\n                children: \"SUBMIT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-password\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#ff2d2d'\n            },\n            ref: errRef,\n            \"aria-live\": \"assertive\",\n            children: errMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"Forgot your password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"hz4wjmrEHsAn7jk3I12dRogmD9k=\", false, function () {\n  return [useMutation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Button","Modal","React","useEffect","useState","useMutation","Form","useRef","LOGIN_USER","Auth","Login","props","formState","setFormState","email","password","login","error","data","handleChange","event","name","value","target","refreshPage","window","location","reload","handleSubmit","setErrMsg","preventDefault","console","log","variables","token","e","show","setShow","handleClose","handleShow","userRef","errRef","errMsg","success","setSuccess","color"],"sources":["/Users/blessedadodo/Desktop/DayDreamAthletic-App/client/src/components/login.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Form from 'react-bootstrap/Form';\nimport { useRef } from 'react';\nimport {LOGIN_USER} from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nconst Login = (props) => {\n  const [formState, setFormState] = useState({ \n    email: '',\n    password: ''\n  });\n  const [login, { error, data }] = useMutation(LOGIN_USER);\n\n  // update state based on form input changes\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  function refreshPage() {\n    window.location.reload(false);\n  }\n  // submit form\n  const handleSubmit = async (event) => {\n    setErrMsg('');\n    event.preventDefault();\n    console.log(formState);\n    if(formState.email === '' || formState.password === ''){\n      setErrMsg(\"Invalid email or password\");\n    }else{\n    try {\n      const { data } = await login({\n        variables: { ...formState },\n      });\n\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n    }\n    // clear form values\n    setFormState({\n      email: '',\n      password: '',\n    });\n  }\n  };\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState('false');\n\n  return (\n    <>\n\n      <section className='login-btn-container-nav'>\n        <a onClick={handleShow}>Already have an acoount? Login</a>\n\n        <Modal\n          show={show}\n          onHide={handleClose}\n          backdrop=\"static\"\n          keyboard={false}\n          centered\n        >\n          <div className='signup-info'>\n            <h2>YOUR DAY DREAM CLUB BENEFITS AWAIT!</h2>\n          </div>\n          <div className='signup-discount'>\n            <p>Sign up now and get 10% off on select products!</p>\n          </div>\n\n          <div className='modal-login-signup-form-container'>\n                            <Form onSubmit={handleSubmit} className=\"d-flex\">\n\n              <Modal.Header closeButton>\n                <Modal.Title>LOGIN</Modal.Title>\n\n              </Modal.Header>\n              <Modal.Body>\n                  <Form.Control\n                    type=\"text\"\n                    id=\"username\"\n                    ref={userRef}\n                    autoComplete=\"off\"\n                    onChange={handleChange}\n                    value={formState.email}\n                    required\n                    name=\"email\"\n                    label=\"username\"\n                    placeholder=\"Email\"\n                    className=\"m-2 modal-login-signup-form \"\n                    aria-label=\"email\"\n                  />\n                  <Form.Control\n                    type=\"password\"\n                    id=\"password\"\n                    autoComplete=\"off\"\n                    onChange={handleChange}\n                    value={formState.password}\n                    required\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    className=\"m-2 modal-login-signup-form \"\n                    aria-label=\"Search\"\n                  />\n              </Modal.Body>\n              <Modal.Footer>\n                <Button onClick={handleSubmit} variant=\"primary modal-bottom-btn\" type=\"submit\">SUBMIT</Button>\n              </Modal.Footer>\n            </Form>\n          </div>\n          <div className='forgot-password'>\n            <p style={{color: '#ff2d2d'}} ref={errRef} aria-live=\"assertive\">{errMsg}</p>\n            <a href=\"#\">Forgot your password?</a>\n          </div>\n        </Modal>\n      </section>\n    </>\n  );\n}\n\nexport default Login;"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,KAAK,MAAM,uBAAuB;AACzC,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,OAAOC,IAAI,MAAM,sBAAsB;AACvC,SAASC,MAAM,QAAQ,OAAO;AAC9B,SAAQC,UAAU,QAAO,oBAAoB;AAC7C,OAAOC,IAAI,MAAM,eAAe;AAAC;AAAA;AAEjC,MAAMC,KAAK,GAAIC,KAAK,IAAK;EAAA;EACvB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC;IACzCU,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAE;IAAEC,KAAK;IAAEC;EAAK,CAAC,CAAC,GAAGb,WAAW,CAACG,UAAU,CAAC;;EAExD;EACA,MAAMW,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IAEpCV,YAAY,CAAC;MACX,GAAGD,SAAS;MACZ,CAACS,IAAI,GAAGC;IACV,CAAC,CAAC;EACJ,CAAC;EAED,SAASE,WAAW,GAAG;IACrBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,KAAK,CAAC;EAC/B;EACA;EACA,MAAMC,YAAY,GAAG,MAAOR,KAAK,IAAK;IACpCS,SAAS,CAAC,EAAE,CAAC;IACbT,KAAK,CAACU,cAAc,EAAE;IACtBC,OAAO,CAACC,GAAG,CAACpB,SAAS,CAAC;IACtB,IAAGA,SAAS,CAACE,KAAK,KAAK,EAAE,IAAIF,SAAS,CAACG,QAAQ,KAAK,EAAE,EAAC;MACrDc,SAAS,CAAC,2BAA2B,CAAC;IACxC,CAAC,MAAI;MACL,IAAI;QACF,MAAM;UAAEX;QAAK,CAAC,GAAG,MAAMF,KAAK,CAAC;UAC3BiB,SAAS,EAAE;YAAE,GAAGrB;UAAU;QAC5B,CAAC,CAAC;QAEFH,IAAI,CAACO,KAAK,CAACE,IAAI,CAACF,KAAK,CAACkB,KAAK,CAAC;MAC9B,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVJ,OAAO,CAACd,KAAK,CAACkB,CAAC,CAAC;MAClB;MACA;MACAtB,YAAY,CAAC;QACXC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACA,CAAC;EAED,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAMkC,WAAW,GAAG,MAAMD,OAAO,CAAC,KAAK,CAAC;EACxC,MAAME,UAAU,GAAG,MAAMF,OAAO,CAAC,IAAI,CAAC;EACtC,MAAMG,OAAO,GAAGjC,MAAM,EAAE;EACxB,MAAMkC,MAAM,GAAGlC,MAAM,EAAE;EACvB,MAAM,CAACmC,MAAM,EAAEb,SAAS,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACuC,OAAO,EAAEC,UAAU,CAAC,GAAGxC,QAAQ,CAAC,OAAO,CAAC;EAE/C,oBACE;IAAA,uBAEE;MAAS,SAAS,EAAC,yBAAyB;MAAA,wBAC1C;QAAG,OAAO,EAAEmC,UAAW;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAmC,eAE1D,QAAC,KAAK;QACJ,IAAI,EAAEH,IAAK;QACX,MAAM,EAAEE,WAAY;QACpB,QAAQ,EAAC,QAAQ;QACjB,QAAQ,EAAE,KAAM;QAChB,QAAQ;QAAA,wBAER;UAAK,SAAS,EAAC,aAAa;UAAA,uBAC1B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAA4C;UAAA;UAAA;UAAA;QAAA,QACxC,eACN;UAAK,SAAS,EAAC,iBAAiB;UAAA,uBAC9B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAsD;UAAA;UAAA;UAAA;QAAA,QAClD,eAEN;UAAK,SAAS,EAAC,mCAAmC;UAAA,uBAChC,QAAC,IAAI;YAAC,QAAQ,EAAEV,YAAa;YAAC,SAAS,EAAC,QAAQ;YAAA,wBAE9D,QAAC,KAAK,CAAC,MAAM;cAAC,WAAW;cAAA,uBACvB,QAAC,KAAK,CAAC,KAAK;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAAoB;cAAA;cAAA;cAAA;YAAA,QAEnB,eACf,QAAC,KAAK,CAAC,IAAI;cAAA,wBACP,QAAC,IAAI,CAAC,OAAO;gBACX,IAAI,EAAC,MAAM;gBACX,EAAE,EAAC,UAAU;gBACb,GAAG,EAAEY,OAAQ;gBACb,YAAY,EAAC,KAAK;gBAClB,QAAQ,EAAErB,YAAa;gBACvB,KAAK,EAAEP,SAAS,CAACE,KAAM;gBACvB,QAAQ;gBACR,IAAI,EAAC,OAAO;gBACZ,KAAK,EAAC,UAAU;gBAChB,WAAW,EAAC,OAAO;gBACnB,SAAS,EAAC,8BAA8B;gBACxC,cAAW;cAAO;gBAAA;gBAAA;gBAAA;cAAA,QAClB,eACF,QAAC,IAAI,CAAC,OAAO;gBACX,IAAI,EAAC,UAAU;gBACf,EAAE,EAAC,UAAU;gBACb,YAAY,EAAC,KAAK;gBAClB,QAAQ,EAAEK,YAAa;gBACvB,KAAK,EAAEP,SAAS,CAACG,QAAS;gBAC1B,QAAQ;gBACR,WAAW,EAAC,UAAU;gBACtB,IAAI,EAAC,UAAU;gBACf,SAAS,EAAC,8BAA8B;gBACxC,cAAW;cAAQ;gBAAA;gBAAA;gBAAA;cAAA,QACnB;YAAA;cAAA;cAAA;cAAA;YAAA,QACO,eACb,QAAC,KAAK,CAAC,MAAM;cAAA,uBACX,QAAC,MAAM;gBAAC,OAAO,EAAEa,YAAa;gBAAC,OAAO,EAAC,0BAA0B;gBAAC,IAAI,EAAC,QAAQ;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAAgB;cAAA;cAAA;cAAA;YAAA,QAClF;UAAA;YAAA;YAAA;YAAA;UAAA;QACV;UAAA;UAAA;UAAA;QAAA,QACH,eACN;UAAK,SAAS,EAAC,iBAAiB;UAAA,wBAC9B;YAAG,KAAK,EAAE;cAACiB,KAAK,EAAE;YAAS,CAAE;YAAC,GAAG,EAAEJ,MAAO;YAAC,aAAU,WAAW;YAAA,UAAEC;UAAM;YAAA;YAAA;YAAA;UAAA,QAAK,eAC7E;YAAG,IAAI,EAAC,GAAG;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAA0B;QAAA;UAAA;UAAA;UAAA;QAAA,QACjC;MAAA;QAAA;QAAA;QAAA;MAAA,QACA;IAAA;MAAA;MAAA;MAAA;IAAA;EACA,iBACT;AAEP,CAAC;AAAA,GAzHKhC,KAAK;EAAA,QAKwBL,WAAW;AAAA;AAAA,KALxCK,KAAK;AA2HX,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}